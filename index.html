<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Word Champion Pro MAX++</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{margin:0;font-family:Arial,sans-serif;background:#0a0f1c;color:#e5e7eb;text-align:center;}
h1{color:#22d3ee;margin-top:20px;}
#game{max-width:900px;margin:auto;padding:20px;background:#1e293b;border-radius:12px;}
#sentence{font-size:24px;min-height:100px;margin:20px 0;}
button,input{padding:12px;margin:5px 0;font-size:16px;border-radius:8px;border:none;width:100%;}
button{background:#22d3ee;font-weight:bold;color:#000;cursor:pointer;}
button:hover{background:#06b6d4;}
#feedback{margin:10px;font-weight:bold;height:24px;}
#stats{display:flex;justify-content:space-between;margin-top:10px;font-weight:bold;}
.word{display:inline-block;margin:2px;padding:2px;transition:0.4s;}
.correct{color:#4ade80;}
.wrong{color:#f87171;}
.fade{opacity:0;transform:scale(0.9);}
</style>
</head>
<body>

<h1>ðŸŽ® Word Champion Pro MAX++</h1>
<div id="game">
  <div id="tier"></div>
  <div id="level"></div>
  <div id="sentence"></div>
  <input id="textInput" placeholder="Type here if you prefer typing">
  <button onclick="speakMode()">ðŸŽ¤ Speak</button>
  <button onclick="submitMode()">âœ… Submit</button>
  <button onclick="listenMode()">ðŸ”Š Listen</button>
  <div id="feedback"></div>
  <div id="stats">
    <span>Score: <b id="score">0</b></span>
    <span>Lives: <b id="lives">3</b></span>
    <span>Streak: <b id="streak">0</b></span>
    <span>Rank: <b id="rank">Beginner</b></span>
  </div>
</div>

<script>
// ===== CONFIG =====
const TIERS=["Foundation","Fluency","Communication","Marketing","Executive"];
const CONTENT=[
  // Foundation
  ["Discipline builds success.","Confidence grows with practice.","Clear reading improves understanding.","Consistency improves skill.","Start small, grow big."],
  // Fluency
  ["Effective communication builds trust.","Listening improves influence.","Speak clearly to be understood.","Fluency requires repetition.","Repeat daily for mastery."],
  // Communication
  ["Professional language builds credibility.","Strong communication earns respect.","Confidence changes outcomes.","Clear messages lead to action.","Be concise, be impactful."],
  // Marketing
  ["This product solves real customer problems.","People buy clarity and confidence.","Persuasion creates loyalty.","Show value, create desire.","Highlight benefits, not features."],
  // Executive
  ["Leadership requires clarity.","Negotiation creates advantage.","Strategy drives long-term success.","Think ahead, act decisively.","Vision inspires teams."]
];

let state=JSON.parse(localStorage.getItem("wordChampion"))||{
tier:0,level:0,score:0,lives:3,streak:0
};

const sentenceEl=document.getElementById("sentence");
const tierEl=document.getElementById("tier");
const levelEl=document.getElementById("level");
const feedback=document.getElementById("feedback");
const scoreEl=document.getElementById("score");
const livesEl=document.getElementById("lives");
const streakEl=document.getElementById("streak");
const rankEl=document.getElementById("rank");
const inputEl=document.getElementById("textInput");

// ===== UTIL =====
function normalize(text){return text.toLowerCase().replace(/[^a-z ]/g,"").trim();}
function save(){localStorage.setItem("wordChampion",JSON.stringify(state));}

// ===== LOAD SENTENCE =====
function loadSentence(){
  if(state.tier>=CONTENT.length){
    sentenceEl.innerHTML="ðŸ† YOU WIN! All tiers completed.";
    feedback.innerHTML="Amazing job!";
    return;
  }
  const list=CONTENT[state.tier];
  state.index=Math.floor(Math.random()*list.length);
  sentenceEl.innerHTML="";
  tierEl.innerText="Tier: "+TIERS[state.tier];
  levelEl.innerText="Level: "+(state.level+1);
  const words=list[state.index].split(" ");
  words.forEach(word=>{
    const span=document.createElement("span");
    span.className="word";
    span.innerText=word;
    sentenceEl.appendChild(span);
    sentenceEl.appendChild(document.createTextNode(" "));
  });
  inputEl.value="";
  updateStats();
}
loadSentence();

// ===== STATS =====
function updateStats(){
  scoreEl.innerText=state.score;
  livesEl.innerText=state.lives;
  streakEl.innerText=state.streak;
  rankEl.innerText=determineRank();
}
function determineRank(){
  if(state.score<50) return "Beginner";
  if(state.score<150) return "Skilled";
  if(state.score<300) return "Fluent";
  if(state.score<500) return "Persuasive";
  if(state.score<800) return "Professional";
  return "Master Communicator";
}

// ===== ANIMATION =====
function animateWords(){
  const words=document.querySelectorAll("#sentence .word");
  words.forEach((w,i)=>{setTimeout(()=>{w.classList.add("fade");},i*120);});
}

// ===== SUCCESS / FAIL =====
function success(){
  state.score+=10;
  state.streak++;
  state.level++;
  if(state.level%5===0 && state.tier<TIERS.length-1) state.tier++;
  feedback.innerHTML="âœ… Correct!";
  animateWords();
  save();
  setTimeout(loadSentence,600);
}

function fail(){
  state.lives--;
  state.streak=0;
  feedback.innerHTML="âŒ Try Again!";
  if(state.lives<=0){
    sentenceEl.innerHTML="ðŸ’€ GAME OVER! Reload to play again.";
  }
  save();
  updateStats();
}

// ===== TYPING =====
function submitMode(){
  const typed=inputEl.value;
  const current=sentenceEl.innerText;
  normalize(typed)===normalize(current)?success():fail();
}

// ===== LISTEN MODE =====
function listenMode(){
  const utter=new SpeechSynthesisUtterance(sentenceEl.innerText);
  speechSynthesis.speak(utter);
}

// ===== SPEAK MODE =====
function speakMode(){
  const SR=window.SpeechRecognition||window.webkitSpeechRecognition;
  if(!SR){alert("Speech Recognition not supported");return;}
  const rec=new SR();
  rec.lang="en-US"; rec.start();
  rec.onresult=(e)=>{
    const said=e.results[0][0].transcript;
    normalize(said)===normalize(sentenceEl.innerText)?success():fail();
  };
}
</script>

</body>
</html>
