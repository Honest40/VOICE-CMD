<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Speak & Win â€“ Adult English Mastery</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body {
  font-family: Arial, sans-serif;
  background: #0f172a;
  color: #fff;
  margin: 0;
  padding: 20px;
  text-align: center;
}
h1 { color: #38bdf8; }
#card {
  background: #1e293b;
  padding: 20px;
  border-radius: 12px;
  max-width: 700px;
  margin: auto;
}
#sentence {
  font-size: 22px;
  margin: 20px 0;
}
input {
  width: 100%;
  padding: 12px;
  font-size: 18px;
  margin-top: 10px;
}
button {
  padding: 12px 20px;
  margin: 10px;
  font-size: 16px;
  background: #38bdf8;
  border: none;
  border-radius: 8px;
  cursor: pointer;
}
button:hover { background: #0ea5e9; }
#status { margin-top: 10px; font-weight: bold; }
#stats { margin-top: 15px; }
.fade {
  animation: fadeOut 0.6s forwards;
}
@keyframes fadeOut {
  to { opacity: 0; transform: scale(0.9); }
}
</style>
</head>
<body>

<h1>ğŸ¤ Speak & Win</h1>
<p>Adult English Reading, Speaking & Selling Skills</p>

<div id="card">
  <div id="level">Level 1 â€“ Beginner</div>
  <div id="sentence"></div>

  <input id="textInput" placeholder="Type the sentence here (optional)">
  
  <div>
    <button onclick="startListening()">ğŸ¤ Speak</button>
    <button onclick="speakSentence()">ğŸ”Š Listen</button>
    <button onclick="checkTyping()">âœ… Submit</button>
  </div>

  <div id="status"></div>
  <div id="stats">Score: 0 | Lives: 3</div>
</div>

<script>
const levels = [
  { level: "Beginner", text: "Success begins with discipline." },
  { level: "Beginner", text: "Confidence grows with practice." },
  { level: "Beginner", text: "Clear speech creates understanding." },

  { level: "Intermediate", text: "Effective communication builds strong relationships." },
  { level: "Intermediate", text: "Listening is more powerful than speaking." },
  { level: "Intermediate", text: "Professional language creates credibility." },

  { level: "Advanced", text: "This solution delivers measurable value to your business." },
  { level: "Advanced", text: "Strong messaging influences customer decisions." },
  { level: "Advanced", text: "People buy confidence before they buy products." },

  { level: "Senior", text: "Strategic positioning determines long-term competitive advantage." },
  { level: "Senior", text: "Leadership communication drives organizational success." },
  { level: "Senior", text: "Negotiation is the art of mutual value creation." }
];

let index = 0;
let score = 0;
let lives = 3;

const sentenceEl = document.getElementById("sentence");
const levelEl = document.getElementById("level");
const statusEl = document.getElementById("status");
const statsEl = document.getElementById("stats");
const inputEl = document.getElementById("textInput");

function loadSentence() {
  if (index >= levels.length) {
    sentenceEl.innerHTML = "ğŸ† YOU WIN! You completed all levels.";
    return;
  }
  sentenceEl.classList.remove("fade");
  sentenceEl.innerText = levels[index].text;
  levelEl.innerText = `Level ${index+1} â€“ ${levels[index].level}`;
  inputEl.value = "";
}

loadSentence();

function normalize(text) {
  return text.toLowerCase().replace(/[^a-z ]/g, "").trim();
}

function success() {
  score += 10;
  sentenceEl.classList.add("fade");
  setTimeout(() => {
    index++;
    loadSentence();
  }, 600);
}

function fail() {
  lives--;
  if (lives <= 0) {
    sentenceEl.innerHTML = "âŒ GAME OVER â€“ Try Again";
    return;
  }
}

function updateStats() {
  statsEl.innerText = `Score: ${score} | Lives: ${lives}`;
}

function checkTyping() {
  if (normalize(inputEl.value) === normalize(levels[index].text)) {
    statusEl.innerText = "âœ… Correct!";
    success();
  } else {
    statusEl.innerText = "âŒ Incorrect";
    fail();
  }
  updateStats();
}

function speakSentence() {
  const utter = new SpeechSynthesisUtterance(levels[index].text);
  speechSynthesis.speak(utter);
}

function startListening() {
  const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
  if (!SpeechRecognition) {
    alert("Speech Recognition not supported");
    return;
  }
  const recognition = new SpeechRecognition();
  recognition.lang = "en-US";
  recognition.start();

  recognition.onresult = (e) => {
    const spoken = e.results[0][0].transcript;
    if (normalize(spoken) === normalize(levels[index].text)) {
      statusEl.innerText = "ğŸ‰ Perfect pronunciation!";
      success();
    } else {
      statusEl.innerText = "âŒ Try again";
      fail();
    }
    updateStats();
  };
}
</script>

</body>
</html>
