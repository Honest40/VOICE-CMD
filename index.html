<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Read Fast Pro</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family:Arial,Helvetica,sans-serif;
  background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);
  color:#fff;
  text-align:center;
}
header{
  padding:15px;
  font-size:22px;
  font-weight:bold;
}
.container{
  max-width:600px;
  margin:auto;
  padding:10px;
}
.word{
  font-size:36px;
  margin:20px auto;
  padding:15px 25px;
  border-radius:12px;
  background:#111827;
  display:inline-block;
  animation:pop 0.3s ease;
}
@keyframes pop{from{transform:scale(0.8)}to{transform:scale(1)}}
.correct{background:#16a34a;}
.wrong{background:#dc2626;animation:shake 0.3s;}
@keyframes shake{0%{transform:translateX(0)}25%{transform:translateX(-5px)}50%{transform:translateX(5px)}100%{transform:translateX(0)}}

input,button{
  padding:12px;
  font-size:16px;
  border-radius:8px;
  border:none;
  margin:8px;
}
button{
  background:#2563eb;
  color:white;
  font-weight:bold;
  cursor:pointer;
}
.stats{
  font-size:18px;
  margin:10px;
}
.progress{
  height:10px;
  background:#374151;
  border-radius:10px;
  overflow:hidden;
  margin:15px;
}
.progress-bar{
  height:100%;
  width:100%;
  background:#22c55e;
  transition:width 0.2s linear;
}
#message{
  font-size:22px;
  margin-top:15px;
  font-weight:bold;
}
.hidden{display:none;}
</style>
</head>

<body>

<header>ðŸ“š READ FAST PRO</header>

<div class="container">

<div class="stats">
Level: <span id="level">1</span> |
Score: <span id="score">0</span> |
Lives: <span id="lives">3</span> |
Streak: <span id="streak">0</span>
</div>

<div class="progress">
  <div class="progress-bar" id="progressBar"></div>
</div>

<div id="wordBox" class="word hidden"></div>

<input id="input" placeholder="Type the word here">
<br>
<button onclick="checkTyped()">Submit</button>
<button onclick="startGame()">Start Game</button>

<div id="message"></div>

</div>

<script>
/* WORD LEVELS */
const levels = [
  ["cat","dog","sun","book","pen"],
  ["apple","banana","orange","table","window"],
  ["computer","elephant","pronounce","language","education"],
  ["responsibility","communication","pronunciation","understanding"]
];

let level=0, score=0, lives=3, streak=0;
let currentWord="";
let timeLeft=100;
let timerInterval;

/* ELEMENTS */
const wordBox=document.getElementById("wordBox");
const input=document.getElementById("input");
const msg=document.getElementById("message");
const progressBar=document.getElementById("progressBar");

function startGame(){
  level=0; score=0; lives=3; streak=0;
  updateStats();
  msg.innerText="";
  nextWord();
  startVoice();
}

function nextWord(){
  clearInterval(timerInterval);
  timeLeft=100;
  currentWord=levels[level][Math.floor(Math.random()*levels[level].length)];
  wordBox.innerText=currentWord;
  wordBox.className="word";
  wordBox.classList.remove("hidden");
  input.value="";
  startTimer();
}

function startTimer(){
  timerInterval=setInterval(()=>{
    timeLeft--;
    progressBar.style.width=timeLeft+"%";
    if(timeLeft<=0){
      loseLife();
    }
  },100);
}

function checkAnswer(answer){
  if(answer.toLowerCase()===currentWord.toLowerCase()){
    score+=10;
    streak++;
    wordBox.classList.add("correct");
    speak("Correct!");
    if(streak%5===0 && level<levels.length-1){level++;}
    setTimeout(nextWord,500);
  }else{
    wordBox.classList.add("wrong");
    speak("Try again");
    loseLife();
  }
  updateStats();
}

function checkTyped(){
  if(input.value.trim()!==""){
    checkAnswer(input.value.trim());
  }
}

function loseLife(){
  lives--;
  streak=0;
  updateStats();
  if(lives<=0){
    gameOver();
  }else{
    nextWord();
  }
}

function gameOver(){
  clearInterval(timerInterval);
  stopVoice();
  wordBox.classList.add("hidden");
  msg.innerText="ðŸ’€ Game Over! Score: "+score;
}

function updateStats(){
  document.getElementById("score").innerText=score;
  document.getElementById("lives").innerText=lives;
  document.getElementById("level").innerText=level+1;
  document.getElementById("streak").innerText=streak;
}

/* VOICE RECOGNITION */
let recognition;
function startVoice(){
  if(!('webkitSpeechRecognition'in window||'SpeechRecognition'in window))return;
  recognition=new (window.SpeechRecognition||window.webkitSpeechRecognition)();
  recognition.continuous=true;
  recognition.lang="en-US";
  recognition.onresult=e=>{
    let spoken=e.results[e.results.length-1][0].transcript.trim();
    checkAnswer(spoken);
  };
  recognition.start();
}
function stopVoice(){if(recognition)recognition.stop();}

/* VOICE FEEDBACK */
function speak(text){
  let u=new SpeechSynthesisUtterance(text);
  speechSynthesis.speak(u);
}
</script>

</body>
</html>
