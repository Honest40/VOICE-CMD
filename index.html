<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Word Champion Pro</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{margin:0;font-family:Arial,sans-serif;background:#0a0f1c;color:#e5e7eb;text-align:center;}
h1{color:#22d3ee;margin-top:20px;}
#game{max-width:900px;margin:auto;padding:20px;background:#1e293b;border-radius:12px;}
#sentence{font-size:24px;min-height:80px;margin:20px 0;}
button,input{padding:12px;margin:5px 0;font-size:16px;border-radius:8px;border:none;width:100%;}
button{background:#22d3ee;font-weight:bold;color:#000;cursor:pointer;}
button:hover{background:#06b6d4;}
#feedback{margin:10px;font-weight:bold;height:24px;}
#stats{display:flex;justify-content:space-between;margin-top:10px;font-weight:bold;}
.word{display:inline-block;margin:2px;padding:2px;transition:0.4s;}
.correct{color:#4ade80;}
.wrong{color:#f87171;}
.fade{opacity:0;transform:scale(0.9);}
</style>
</head>
<body>

<h1>ðŸŽ® Word Champion Pro</h1>
<div id="game">
  <div id="tier"></div>
  <div id="level"></div>
  <div id="sentence"></div>
  <input id="textInput" placeholder="Type here if you prefer typing">
  <button onclick="listen()">ðŸŽ¤ Speak</button>
  <button onclick="submit()">âœ… Submit</button>
  <button onclick="playAudio()">ðŸ”Š Listen</button>
  <div id="feedback"></div>
  <div id="stats">
    <span>Score: <b id="score">0</b></span>
    <span>Lives: <b id="lives">3</b></span>
    <span>Streak: <b id="streak">0</b></span>
  </div>
</div>

<script>
// ===== LEVELS / TIERS =====
const TIERS=["Foundation","Fluency","Communication","Marketing","Executive"];
const CONTENT=[
  // Foundation
  ["Discipline builds success.","Confidence grows with practice.","Clear reading improves understanding."],
  // Fluency
  ["Effective communication builds trust.","Listening improves influence.","Speak clearly to be understood."],
  // Communication
  ["Professional language builds credibility.","Strong communication earns respect.","Confidence changes outcomes."],
  // Marketing
  ["This product solves real customer problems.","People buy clarity and confidence.","Persuasion creates loyalty."],
  // Executive
  ["Leadership requires clarity.","Negotiation creates advantage.","Strategy drives long-term success."]
];

let tier=0, level=0, index=0;
let score=0, lives=3, streak=0;

const sentenceEl=document.getElementById("sentence");
const tierEl=document.getElementById("tier");
const levelEl=document.getElementById("level");
const feedback=document.getElementById("feedback");
const scoreEl=document.getElementById("score");
const livesEl=document.getElementById("lives");
const streakEl=document.getElementById("streak");
const inputEl=document.getElementById("textInput");

// ===== UTILITY =====
function normalize(text){return text.toLowerCase().replace(/[^a-z ]/g,"").trim();}

// ===== LOAD NEXT SENTENCE =====
function loadSentence(){
  if(tier>=CONTENT.length){
    sentenceEl.innerHTML="ðŸ† YOU WIN! You completed all tiers.";
    feedback.innerHTML="Amazing job!";
    return;
  }
  const tierList=CONTENT[tier];
  index=Math.floor(Math.random()*tierList.length);
  sentenceEl.innerHTML="";
  tierEl.innerText="Tier: "+TIERS[tier];
  levelEl.innerText="Level: "+(level+1);
  const words=tierList[index].split(" ");
  words.forEach(word=>{
    const span=document.createElement("span");
    span.className="word";
    span.innerText=word;
    sentenceEl.appendChild(span);
    sentenceEl.appendChild(document.createTextNode(" "));
  });
  inputEl.value="";
}

// ===== SUCCESS / FAIL =====
function success(){
  score+=10;
  streak++;
  feedback.innerHTML="âœ… Correct!";
  animateWords();
  level++;
  if(level%3===0 && tier<TIERS.length-1) tier++;
  updateStats();
  setTimeout(loadSentence,600);
}

function fail(){
  lives--;
  streak=0;
  feedback.innerHTML="âŒ Try Again";
  updateStats();
  if(lives<=0){
    sentenceEl.innerHTML="ðŸ’€ GAME OVER! Reload to play again.";
  }
}

// ===== UPDATE STATS =====
function updateStats(){
  scoreEl.innerText=score;
  livesEl.innerText=lives;
  streakEl.innerText=streak;
}

// ===== ANIMATION =====
function animateWords(){
  const words=document.querySelectorAll("#sentence .word");
  words.forEach((w,i)=>{
    setTimeout(()=>{w.classList.add("fade");},i*100);
  });
}

// ===== TYPING SUBMIT =====
function submit(){
  const typed=inputEl.value;
  const current=sentenceEl.innerText;
  normalize(typed)===normalize(current)?success():fail();
}

// ===== SPEAK MODE =====
function listen(){
  const SR=window.SpeechRecognition||window.webkitSpeechRecognition;
  if(!SR){alert("Speech Recognition not supported"); return;}
  const rec=new SR();
  rec.lang="en-US"; rec.start();
  rec.onresult=(e)=>{
    const said=e.results[0][0].transcript;
    normalize(said)===normalize(sentenceEl.innerText)?success():fail();
  };
}

// ===== PLAY AUDIO =====
function playAudio(){
  const utter=new SpeechSynthesisUtterance(sentenceEl.innerText);
  speechSynthesis.speak(utter);
}

// ===== INITIAL LOAD =====
loadSentence();
updateStats();
</script>

</body>
</html>
