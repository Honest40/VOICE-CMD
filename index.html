<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Read & Pronounce Game</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{margin:0;font-family:Arial,sans-serif;background:#1a1a2e;color:#fff;text-align:center}
header{padding:15px;font-size:20px;background:#162447}
.container{padding:10px;max-width:600px;margin:auto}
.word{font-size:32px;margin:10px;padding:10px;border:2px solid #e43f5a;border-radius:8px;display:inline-block;cursor:pointer;transition:0.3s}
.word.correct{background:#22c55e;transform:scale(1.1);}
.word.wrong{background:#e43f5a;transform:scale(0.9);}
input,button{padding:12px;font-size:16px;margin:8px;border-radius:8px;border:none}
button{background:#162447;color:#fff;font-weight:bold;cursor:pointer}
.stats{margin:10px;font-size:18px}
#message{font-size:20px;margin-top:15px;color:#ffd60a}
</style>
</head>
<body>

<header>ðŸ“š Read & Pronounce Game</header>

<div class="container">
<div class="stats">
Score: <span id="score">0</span> | Lives: <span id="lives">3</span> | Time: <span id="timer">60</span>s
</div>

<div id="wordsContainer"></div>

<input type="text" id="spellInput" placeholder="Type the word here">
<button id="checkBtn">Check Spelling</button>
<button id="startBtn">Start Game</button>

<div id="message"></div>
</div>

<script>
/* ===== Word List ===== */
const words = ["apple","banana","orange","grape","strawberry","elephant","giraffe","zebra","lion","tiger","kangaroo","monkey","butterfly","caterpillar","dinosaur","volcano","computer","keyboard","javascript","puzzle"];

let activeWords=[], score=0, lives=3, timer=60;
let gameInterval, countdownInterval;
const wordsContainer=document.getElementById("wordsContainer");
const scoreEl=document.getElementById("score");
const livesEl=document.getElementById("lives");
const timerEl=document.getElementById("timer");
const messageEl=document.getElementById("message");
const spellInput=document.getElementById("spellInput");

/* ===== Game Functions ===== */
function startGame(){
  score=0; lives=3; timer=60;
  scoreEl.innerText=score;
  livesEl.innerText=lives;
  timerEl.innerText=timer;
  messageEl.innerText="";
  spellInput.value="";
  activeWords=[...words].sort(()=>0.5-Math.random()).slice(0,7); // pick 7 words
  renderWords();
  startTimer();
  startVoiceRecognition();
}

function renderWords(){
  wordsContainer.innerHTML="";
  activeWords.forEach(w=>{
    const div=document.createElement("div");
    div.classList.add("word");
    div.innerText=w;
    wordsContainer.appendChild(div);
  });
}

/* ===== Timer ===== */
function startTimer(){
  clearInterval(countdownInterval);
  countdownInterval=setInterval(()=>{
    timer--;
    timerEl.innerText=timer;
    if(timer<=0){endGame(false);}
  },1000);
}

/* ===== Check Word ===== */
function checkWord(input){
  const index=activeWords.findIndex(w=>w.toLowerCase()===input.toLowerCase());
  if(index>=0){
    const div=wordsContainer.children[index];
    div.classList.add("correct");
    setTimeout(()=>{div.remove();},300);
    score++;
    scoreEl.innerText=score;
    activeWords.splice(index,1);
    spellInput.value="";
    if(activeWords.length===0){endGame(true);}
  } else {
    lives--;
    livesEl.innerText=lives;
    messageEl.innerText="Wrong! Try again.";
    if(lives<=0){endGame(false);}
  }
}

/* ===== End Game ===== */
function endGame(win){
  clearInterval(countdownInterval);
  stopVoiceRecognition();
  messageEl.innerText=win?"ðŸŽ‰ You Win!":"ðŸ’€ Game Over!";
  wordsContainer.innerHTML="";
}

/* ===== Voice Recognition ===== */
let rec=null;
function startVoiceRecognition(){
  if(!('webkitSpeechRecognition' in window) && !('SpeechRecognition' in window)){
    console.log("Voice recognition not supported");
    return;
  }
  rec=new (window.SpeechRecognition || window.webkitSpeechRecognition)();
  rec.continuous=true;
  rec.interimResults=false;
  rec.lang="en-US";
  rec.onresult=e=>{
    const spoken=e.results[e.results.length-1][0].transcript.trim().toLowerCase();
    checkWord(spoken);
  };
  rec.onerror=e=>console.log("Voice error", e);
  rec.start();
}

function stopVoiceRecognition(){
  if(rec){rec.stop();}
}

/* ===== Event Listeners ===== */
document.getElementById("startBtn").addEventListener("click",startGame);
document.getElementById("checkBtn").addEventListener("click",()=>checkWord(spellInput.value));
spellInput.addEventListener("keyup",e=>{if(e.key==="Enter"){checkWord(spellInput.value)}});

</script>
</body>
</html>
