<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>SpeakFlow Pro MAX</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{margin:0;font-family:Arial;background:#020617;color:#e5e7eb}
#app{max-width:900px;margin:auto;padding:20px}
h1{text-align:center;color:#22d3ee}
.card{background:#0f172a;padding:20px;border-radius:12px}
#sentence{font-size:22px;min-height:90px;margin:15px 0}
button,input{
  width:100%;padding:12px;margin-top:8px;
  font-size:16px;border-radius:8px;border:none
}
button{background:#22d3ee;color:#000;font-weight:bold}
button:hover{background:#06b6d4}
#stats{display:flex;justify-content:space-between;margin-top:10px}
.good{color:#4ade80}
.bad{color:#f87171}
</style>
</head>
<body>

<div id="app">
<h1>ðŸŽ¤ SpeakFlow Pro MAX</h1>

<div class="card">
<div id="rank"></div>
<div id="tier"></div>
<div id="level"></div>

<div id="sentence"></div>

<input id="input" placeholder="Type here (Spell Mode)">

<button onclick="speak()">ðŸŽ¤ Speak</button>
<button onclick="submit()">âœ… Submit</button>
<button onclick="listen()">ðŸ”Š Listen</button>

<div id="feedback"></div>

<div id="stats">
<span>Score: <b id="score"></b></span>
<span>Lives: <b id="lives"></b></span>
<span>Streak: <b id="streak"></b></span>
</div>
</div>
</div>

<script>
const TIERS=[
"Foundation","Fluency","Communication","Marketing","Executive"
];

const CONTENT=[
["Success begins with discipline.","Clear speech builds confidence.","Consistency creates results."],
["Effective communication improves relationships.","Listening creates influence.","Fluency requires practice."],
["Professional language builds credibility.","Strong communication earns trust.","Confidence changes outcomes."],
["This offer delivers real value.","People buy clarity and confidence.","Selling is solving problems."],
["Leadership requires clarity.","Negotiation creates advantage.","Strategy drives long-term success."]
];

let state=JSON.parse(localStorage.getItem("speakflow"))||{
tier:0,level:1,score:0,lives:3,streak:0
};

const s=document.getElementById("sentence");
const f=document.getElementById("feedback");

function save(){localStorage.setItem("speakflow",JSON.stringify(state));}

function rank(){
if(state.score<200)return"Beginner";
if(state.score<500)return"Skilled";
if(state.score<900)return"Fluent";
if(state.score<1400)return"Persuasive";
if(state.score<2000)return"Professional";
return"Master Communicator";
}

function load(){
document.getElementById("rank").innerText="Rank: "+rank();
document.getElementById("tier").innerText="Tier: "+TIERS[state.tier];
document.getElementById("level").innerText="Level: "+state.level;
document.getElementById("score").innerText=state.score;
document.getElementById("lives").innerText=state.lives;
document.getElementById("streak").innerText=state.streak;

const list=CONTENT[state.tier];
s.innerText=list[Math.floor(Math.random()*list.length)];
}

load();

function clean(t){return t.toLowerCase().replace(/[^a-z ]/g,"").trim();}

function success(){
state.score+=10;
state.streak++;
state.level++;
if(state.level%20===0 && state.tier<TIERS.length-1) state.tier++;
f.innerHTML="<span class='good'>Correct</span>";
save();load();
}

function fail(){
state.lives--;
state.streak=0;
f.innerHTML="<span class='bad'>Incorrect</span>";
if(state.lives<=0){
s.innerText="GAME OVER â€“ Reload to improve";
}
save();load();
}

function submit(){
const v=document.getElementById("input").value;
clean(v)===clean(s.innerText)?success():fail();
document.getElementById("input").value="";
}

function listen(){
speechSynthesis.speak(new SpeechSynthesisUtterance(s.innerText));
}

function speak(){
const SR=window.SpeechRecognition||window.webkitSpeechRecognition;
if(!SR){alert("Speech not supported");return;}
const r=new SR();r.lang="en-US";r.start();
r.onresult=e=>{
clean(e.results[0][0].transcript)===clean(s.innerText)?success():fail();
};
}
</script>

</body>
</html>
