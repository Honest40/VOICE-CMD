<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Word Champion Pro ‚Äì Beginner Friendly</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{margin:0;font-family:Arial,sans-serif;background:#0a0f1c;color:#e5e7eb;text-align:center;}
h1,h2{color:#22d3ee;margin:20px 0;}
.page{display:none;max-width:900px;margin:auto;padding:20px;background:#1e293b;border-radius:12px;}
button,input{padding:12px;margin:5px 0;font-size:16px;border-radius:8px;border:none;width:100%;}
button{background:#22d3ee;font-weight:bold;color:#000;cursor:pointer;}
button:hover{background:#06b6d4;}
#sentence{font-size:22px;min-height:80px;margin:15px 0;}
.word{display:inline-block;margin:2px;padding:2px;transition:0.4s;}
.correct{color:#4ade80;}
.wrong{color:#f87171;}
.fade{opacity:0;transform:scale(0.9);}
#feedback{margin:10px;font-weight:bold;height:24px;}
#stats{display:flex;justify-content:space-between;margin-top:10px;font-weight:bold;flex-wrap:wrap;}
.progress-bar{height:20px;width:100%;background:#334155;border-radius:10px;margin:10px 0;}
.progress{height:100%;width:0%;background:#22d3ee;border-radius:10px;}
.timer{font-weight:bold;margin:10px;}
</style>
</head>
<body>

<h1>üéÆ Word Champion Pro</h1>

<!-- MAIN MENU PAGE -->
<div id="menu" class="page" style="display:block;">
<h2>Main Menu</h2>
<button onclick="startStage(0)">Start Beginner Stage</button>
<button onclick="startStage(1)">Start Intermediate Stage</button>
<button onclick="startStage(2)">Start Advanced Stage</button>
<button onclick="startStage(3)">Start Expert Stage</button>
</div>

<!-- GAME PAGE -->
<div id="game" class="page">
<div id="tier"></div>
<div id="level"></div>
<div id="sentence"></div>
<input id="textInput" placeholder="Type here if you prefer typing">
<button onclick="speakMode()">üé§ Speak</button>
<button onclick="submitMode()">‚úÖ Submit</button>
<button onclick="listenMode()">üîä Listen</button>
<div class="timer">‚è± Time Left: <span id="timer">30</span>s</div>
<div class="progress-bar"><div class="progress" id="progress"></div></div>
<div id="feedback"></div>
<div id="stats">
<span>Score: <b id="score">0</b></span>
<span>Lives: <b id="lives">3</b></span>
<span>Streak: <b id="streak">0</b></span>
<span>Rank: <b id="rank">Beginner</b></span>
</div>
</div>

<!-- STAGE SUMMARY PAGE -->
<div id="summary" class="page">
<h2>Stage Completed!</h2>
<p id="summaryText"></p>
<button onclick="backToMenu()">Back to Menu</button>
</div>

<script>
// ===== CONFIG =====
const TIERS=["Beginner","Intermediate","Advanced","Expert"];
const CONTENT=[
  // Beginner
  ["Hi","Hello","I am learning","Good morning","Thank you"],
  // Intermediate
  ["I like reading books","Practice makes perfect","I am improving daily","Effective communication is key","Confidence grows with effort"],
  // Advanced
  ["Professional language builds credibility","Strong communication earns respect","Clear messages lead to action","Fluency requires practice","Persuasion creates influence"],
  // Expert
  ["Leadership requires clarity and decisiveness","Negotiation creates advantage","Strategy drives long-term success","Vision inspires teams","Marketing is about creating value"]
];

// ===== STATE =====
let stage=0;
let sentenceIndex=0;
let state={score:0,lives:3,streak:0};
let currentSentence="";
let timer=30;
let timerInterval;

// ===== ELEMENTS =====
const menuPage=document.getElementById("menu");
const gamePage=document.getElementById("game");
const summaryPage=document.getElementById("summary");
const sentenceEl=document.getElementById("sentence");
const tierEl=document.getElementById("tier");
const levelEl=document.getElementById("level");
const feedback=document.getElementById("feedback");
const scoreEl=document.getElementById("score");
const livesEl=document.getElementById("lives");
const streakEl=document.getElementById("streak");
const rankEl=document.getElementById("rank");
const inputEl=document.getElementById("textInput");
const timerEl=document.getElementById("timer");
const progressEl=document.getElementById("progress");
const summaryText=document.getElementById("summaryText");

// ===== UTIL =====
function normalize(text){return text.toLowerCase().replace(/[^a-z ]/g,"").trim();}
function showPage(page){menuPage.style.display="none";gamePage.style.display="none";summaryPage.style.display="none";page.style.display="block";}
function saveProgress(){localStorage.setItem("wordChampionStage"+stage,JSON.stringify(state));}

// ===== GAME FLOW =====
function startStage(s){
  stage=s;
  state={score:0,lives:3,streak:0};
  showPage(gamePage);
  loadSentence();
}

function loadSentence(){
  if(sentenceIndex>=CONTENT[stage].length){
    showSummary();
    return;
  }
  currentSentence=CONTENT[stage][sentenceIndex];
  sentenceEl.innerHTML="";
  const words=currentSentence.split(" ");
  words.forEach(word=>{
    const span=document.createElement("span");
    span.className="word";
    span.innerText=word;
    sentenceEl.appendChild(span);
    sentenceEl.appendChild(document.createTextNode(" "));
  });
  tierEl.innerText="Stage: "+TIERS[stage];
  levelEl.innerText="Sentence: "+(sentenceIndex+1)+"/"+CONTENT[stage].length;
  inputEl.value="";
  feedback.innerHTML="";
  startTimer();
  updateStats();
}

// ===== STATS & RANK =====
function updateStats(){
  scoreEl.innerText=state.score;
  livesEl.innerText=state.lives;
  streakEl.innerText=state.streak;
  rankEl.innerText=getRank();
  progressEl.style.width=Math.min((state.score/(CONTENT[stage].length*10))*100,100)+"%";
}
function getRank(){
  if(state.score<10) return "Beginner";
  if(state.score<30) return "Skilled";
  if(state.score<50) return "Fluent";
  if(state.score<70) return "Persuasive";
  return "Master Communicator";
}

// ===== TIMER =====
function startTimer(){
  clearInterval(timerInterval);
  timer=30;
  timerEl.innerText=timer;
  timerInterval=setInterval(()=>{
    timer--;
    timerEl.innerText=timer;
    if(timer<=0){clearInterval(timerInterval);fail();}
  },1000);
}

// ===== SUCCESS / FAIL =====
function animateWords(){
  const words=document.querySelectorAll("#sentence .word");
  words.forEach((w,i)=>{setTimeout(()=>{w.classList.add("fade");},i*120);});
}

function success(){
  clearInterval(timerInterval);
  state.score+=10;
  state.streak++;
  feedback.innerHTML="‚úÖ Correct!";
  animateWords();
  saveProgress();
  sentenceIndex++;
  setTimeout(loadSentence,600);
}

function fail(){
  clearInterval(timerInterval);
  state.lives--;
  state.streak=0;
  feedback.innerHTML="‚ùå Wrong or Time Up!";
  if(state.lives<=0){
    sentenceEl.innerHTML="üíÄ GAME OVER! Reload to try again.";
  } else {
    sentenceIndex++;
    setTimeout(loadSentence,600);
  }
  saveProgress();
  updateStats();
}

// ===== MODES =====
function submitMode(){
  if(normalize(inputEl.value)===normalize(currentSentence)) success();
  else fail();
}

function listenMode(){
  const utter=new SpeechSynthesisUtterance(currentSentence);
  speechSynthesis.speak(utter);
}

function speakMode(){
  const SR=window.SpeechRecognition||window.webkitSpeechRecognition;
  if(!SR){alert("Speech Recognition not supported"); return;}
  const rec=new SR();
  rec.lang="en-US"; rec.start();
  rec.onresult=(e)=>{
    const said=e.results[0][0].transcript;
    if(normalize(said)===normalize(currentSentence)) success();
    else fail();
  };
}

// ===== STAGE SUMMARY =====
function showSummary(){
  showPage(summaryPage);
  summaryText.innerHTML=`You completed the ${TIERS[stage]} stage!<br>Score: ${state.score}<br>Streak: ${state.streak}`;
}

function backToMenu(){sentenceIndex=0;showPage(menuPage);}
</script>

</body>
</html>
